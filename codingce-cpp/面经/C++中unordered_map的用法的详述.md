# C++中unordered_map梳理

## 0x1 简介

unordered_map 容器，直译过来就是"无序 map 容器"的意思。所谓“无序”，指的是 unordered_map 容器不会像 map 容器那样对存储的数据进行排序。换句话说，unordered_map 容器和 map 容器仅有一点不同，即 map 容器中存储的数据是有序的，而 unordered_map 容器中是无序的。
**头文件**

```cpp
#include<unordered_map>
```

## 0x2 unordered_map和map的区别

### 0x21 **内部实现机理不同**

**map** :map内部实现了一个`红黑树`（红黑树是非严格平衡二叉搜索树，而AVL是严格平衡二叉搜索树），红黑树具有自动排序的功能，因此map内部的所有元素都是有序的，红黑树的每一个节点都代表着map的一个元素。因此，对于map进行的查找、删除，添加等一系列的操作都相当于是对红黑树进行的操作。map中的元素是按照二叉搜索树 （又名儿茶查找树、二叉排序树–特点就是左子树上所有节点的键值都小于根节点的键值，右子树所有节点的键值都大于根结点的键值）存储的，使用中序遍历可将键值按照从小到大遍历出来。

**unordered_map** :unordered_map内部实现了一个`哈希表` （也叫`散列表`，通过把关键码值映射到Hash表中一个位置来访问记录，查找的时间复杂度可达到`O(1)`，其在`海量数据处理中`有着广泛应用）。因此，其元素的排列顺序都是无序的。哈表的概念见：详谈哈希表。

### 0x22 **优缺点**

**map优点**：有序性，这是map结构最大的有点，其元素的有序性在很多应用中都会简化很多的操作；红黑树，内部实现一个红黑树使得map的很多操作在lgn的时间复杂度下就可以实现，因此效率非常的高。

**map缺点**：空间占用率高，因为map内部实现了红黑树，虽然提高了运行效率，但是因为每一个节点都需要额外保存父节点、孩子节点和红/黑性质，使得每一个节点都占用大量的空间。

**适用**：对于那些有顺序要求的问题，用map会更高效一些。

**unordered_map优点**：因为内部实现了哈希表，因此其查找速度非常的快。

**unordered_map缺点**：哈希表的建立比较耗费时间

**适用**：对于查找问题，**unordered_map** 会更加高效一些，因此遇到查找问题，常会考虑一下用**unordered_map**。

